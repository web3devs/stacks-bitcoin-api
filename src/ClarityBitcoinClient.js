import { callReadOnlyFunction } from "@stacks/transactions";
import { cvToBuffer } from "./utils.js";
const { CLARITY_BITCOIN_CONTRACT_NAME, CACHE_TX_CONTRACT_NAME, CLARITY_BITCOIN_CONTRACT_ADDRESS, NETWORK, SENDER_ADDRESS, } = process.env;
export const concatTx = async (tx) => {
    const result = await callReadOnlyFunction({
        contractName: CLARITY_BITCOIN_CONTRACT_NAME,
        contractAddress: CLARITY_BITCOIN_CONTRACT_ADDRESS,
        functionName: 'concat-tx',
        functionArgs: [tx],
        network: NETWORK,
        senderAddress: SENDER_ADDRESS,
    });
    return cvToBuffer(result);
};
export const verifyCompactTx = (header, tx, proof) => callReadOnlyFunction({
    contractName: CLARITY_BITCOIN_CONTRACT_NAME,
    contractAddress: CLARITY_BITCOIN_CONTRACT_ADDRESS,
    functionName: 'was-tx-mined-compact',
    functionArgs: [header, tx, proof],
    network: NETWORK,
    senderAddress: SENDER_ADDRESS,
});
export const verifyTx = (header, tx, proof) => callReadOnlyFunction({
    contractName: CLARITY_BITCOIN_CONTRACT_NAME,
    contractAddress: CLARITY_BITCOIN_CONTRACT_ADDRESS,
    functionName: 'was-tx-mined',
    functionArgs: [header, tx, proof],
    network: NETWORK,
    senderAddress: SENDER_ADDRESS,
});
export const concatHeader = (header) => callReadOnlyFunction({
    contractName: CLARITY_BITCOIN_CONTRACT_NAME,
    contractAddress: CLARITY_BITCOIN_CONTRACT_ADDRESS,
    functionName: 'concat-header',
    functionArgs: [header],
    network: NETWORK,
    senderAddress: SENDER_ADDRESS,
});
export const parseTx = (tx) => callReadOnlyFunction({
    contractName: CLARITY_BITCOIN_CONTRACT_NAME,
    contractAddress: CLARITY_BITCOIN_CONTRACT_ADDRESS,
    functionName: 'parse-tx',
    functionArgs: [tx],
    network: NETWORK,
    senderAddress: SENDER_ADDRESS,
});
//# sourceMappingURL=data:application/json;base64,eyJ2ZXJzaW9uIjozLCJmaWxlIjoiQ2xhcml0eUJpdGNvaW5DbGllbnQuanMiLCJzb3VyY2VSb290IjoiIiwic291cmNlcyI6WyJDbGFyaXR5Qml0Y29pbkNsaWVudC50cyJdLCJuYW1lcyI6W10sIm1hcHBpbmdzIjoiQUFBQSxPQUFPLEVBSUgsb0JBQW9CLEVBV3ZCLE1BQU0sc0JBQXNCLENBQUM7QUFHOUIsT0FBTyxFQUFDLFVBQVUsRUFBZ0IsTUFBTSxZQUFZLENBQUM7QUFHckQsTUFBTSxFQUNGLDZCQUE2QixFQUM3QixzQkFBc0IsRUFDdEIsZ0NBQWdDLEVBQ2hDLE9BQU8sRUFDUCxjQUFjLEdBQ2pCLEdBQUcsT0FBTyxDQUFDLEdBQUcsQ0FBQTtBQWlMZixNQUFNLENBQUMsTUFBTSxRQUFRLEdBQUcsS0FBSyxFQUFFLEVBQXFCLEVBQW1CLEVBQUU7SUFDckUsTUFBTSxNQUFNLEdBQUcsTUFBTSxvQkFBb0IsQ0FBQztRQUN0QyxZQUFZLEVBQUUsNkJBQXVDO1FBQ3JELGVBQWUsRUFBRSxnQ0FBMEM7UUFDM0QsWUFBWSxFQUFFLFdBQVc7UUFDekIsWUFBWSxFQUFFLENBQUMsRUFBRSxDQUFDO1FBQ2xCLE9BQU8sRUFBRSxPQUFjO1FBQ3ZCLGFBQWEsRUFBRSxjQUF3QjtLQUMxQyxDQUFDLENBQUE7SUFDRixPQUFPLFVBQVUsQ0FBQyxNQUFrQixDQUFDLENBQUE7QUFDekMsQ0FBQyxDQUFBO0FBRUQsTUFBTSxDQUFDLE1BQU0sZUFBZSxHQUFHLENBQUMsTUFBZSxFQUFFLEVBQVksRUFBRSxLQUFjLEVBQTBCLEVBQUUsQ0FDckcsb0JBQW9CLENBQUM7SUFDakIsWUFBWSxFQUFFLDZCQUF1QztJQUNyRCxlQUFlLEVBQUUsZ0NBQTBDO0lBQzNELFlBQVksRUFBRSxzQkFBc0I7SUFDcEMsWUFBWSxFQUFFLENBQUMsTUFBTSxFQUFFLEVBQUUsRUFBRSxLQUFLLENBQUM7SUFDakMsT0FBTyxFQUFFLE9BQWM7SUFDdkIsYUFBYSxFQUFFLGNBQXdCO0NBQzFDLENBQUMsQ0FBQztBQUVQLE1BQU0sQ0FBQyxNQUFNLFFBQVEsR0FBRyxDQUFDLE1BQWUsRUFBRSxFQUFZLEVBQUUsS0FBYyxFQUF5QixFQUFFLENBQzdGLG9CQUFvQixDQUFDO0lBQ2pCLFlBQVksRUFBRSw2QkFBdUM7SUFDckQsZUFBZSxFQUFFLGdDQUEwQztJQUMzRCxZQUFZLEVBQUUsY0FBYztJQUM1QixZQUFZLEVBQUUsQ0FBQyxNQUFNLEVBQUUsRUFBRSxFQUFFLEtBQUssQ0FBQztJQUNqQyxPQUFPLEVBQUUsT0FBYztJQUN2QixhQUFhLEVBQUUsY0FBd0I7Q0FDMUMsQ0FBQyxDQUFBO0FBRU4sTUFBTSxDQUFDLE1BQU0sWUFBWSxHQUFHLENBQUMsTUFBZSxFQUEwQixFQUFFLENBQ3BFLG9CQUFvQixDQUFDO0lBQ2pCLFlBQVksRUFBRSw2QkFBdUM7SUFDckQsZUFBZSxFQUFFLGdDQUEwQztJQUMzRCxZQUFZLEVBQUUsZUFBZTtJQUM3QixZQUFZLEVBQUUsQ0FBQyxNQUFNLENBQUM7SUFDdEIsT0FBTyxFQUFFLE9BQWM7SUFDdkIsYUFBYSxFQUFFLGNBQXdCO0NBQzFDLENBQUMsQ0FBQTtBQUVOLE1BQU0sQ0FBQyxNQUFNLE9BQU8sR0FBRyxDQUFDLEVBQVksRUFBeUIsRUFBRSxDQUMzRCxvQkFBb0IsQ0FBQztJQUNqQixZQUFZLEVBQUUsNkJBQXVDO0lBQ3JELGVBQWUsRUFBRSxnQ0FBMEM7SUFDM0QsWUFBWSxFQUFFLFVBQVU7SUFDeEIsWUFBWSxFQUFFLENBQUMsRUFBRSxDQUFDO0lBQ2xCLE9BQU8sRUFBRSxPQUFjO0lBQ3ZCLGFBQWEsRUFBRSxjQUF3QjtDQUMxQyxDQUFDLENBQUEiLCJzb3VyY2VzQ29udGVudCI6WyJpbXBvcnQge1xuICAgIGJyb2FkY2FzdFRyYW5zYWN0aW9uLFxuICAgIEJ1ZmZlckNWLFxuICAgIGJ1ZmZlckNWLFxuICAgIGNhbGxSZWFkT25seUZ1bmN0aW9uLFxuICAgIGN2VG9KU09OLFxuICAgIGN2VG9WYWx1ZSxcbiAgICBMaXN0Q1YsXG4gICAgbGlzdENWLFxuICAgIFNvbWVDVixcbiAgICBUdXBsZUNWLFxuICAgIHR1cGxlQ1YsXG4gICAgVHhCcm9hZGNhc3RSZXN1bHQsXG4gICAgdWludENWLFxuICAgIFVJbnRDVlxufSBmcm9tIFwiQHN0YWNrcy90cmFuc2FjdGlvbnNcIjtcblxuaW1wb3J0IEJOIGZyb20gXCJibi5qc1wiO1xuaW1wb3J0IHtjdlRvQnVmZmVyLCByZXZlcnNlQnVmZmVyfSBmcm9tIFwiLi91dGlscy5qc1wiO1xuaW1wb3J0IHtDbGFyaXR5VmFsdWV9IGZyb20gXCJAc3RhY2tzL3RyYW5zYWN0aW9ucy9zcmMvY2xhcml0eS9jbGFyaXR5VmFsdWVcIjtcblxuY29uc3Qge1xuICAgIENMQVJJVFlfQklUQ09JTl9DT05UUkFDVF9OQU1FLFxuICAgIENBQ0hFX1RYX0NPTlRSQUNUX05BTUUsXG4gICAgQ0xBUklUWV9CSVRDT0lOX0NPTlRSQUNUX0FERFJFU1MsXG4gICAgTkVUV09SSyxcbiAgICBTRU5ERVJfQUREUkVTUyxcbn0gPSBwcm9jZXNzLmVudlxuXG5cbi8vIGV4cG9ydCBjb25zdCB2ZXJpZnlCbG9ja0hlYWRlciA9IGFzeW5jIChibG9ja0hlYWRlcjogQnVmZmVyLCBzdHhCbG9ja0hlaWdodDogbnVtYmVyKTogUHJvbWlzZTxib29sZWFuPiA9PiB7XG4vLyAgICAgLy8gKHZlcmlmeS1ibG9jay1oZWFkZXIgKGhlYWRlcmJ1ZmYgKGJ1ZmYgODApKSAoZXhwZWN0ZWQtYmxvY2staGVpZ2h0IHVpbnQpKVxuLy8gICAgIGNvbnN0IHJlc3VsdCA9IGF3YWl0IGNhbGxSZWFkT25seUZ1bmN0aW9uKHtcbi8vICAgICAgICAgY29udHJhY3ROYW1lOiBDTEFSSVRZX0JJVENPSU5fQ09OVFJBQ1RfTkFNRSBhcyBzdHJpbmcsXG4vLyAgICAgICAgIGNvbnRyYWN0QWRkcmVzczogQ0xBUklUWV9CSVRDT0lOX0NPTlRSQUNUX0FERFJFU1MgYXMgc3RyaW5nLFxuLy8gICAgICAgICBmdW5jdGlvbk5hbWU6ICd2ZXJpZnktYmxvY2staGVhZGVyJyxcbi8vICAgICAgICAgZnVuY3Rpb25BcmdzOiBbXG4vLyAgICAgICAgICAgICBidWZmZXJDVihibG9ja0hlYWRlciksXG4vLyAgICAgICAgICAgICB1aW50Q1Yoc3R4QmxvY2tIZWlnaHQpXG4vLyAgICAgICAgIF0sXG4vLyAgICAgICAgIG5ldHdvcms6IE5FVFdPUksgYXMgYW55LFxuLy8gICAgICAgICBzZW5kZXJBZGRyZXNzOiBTRU5ERVJfQUREUkVTUyBhcyBzdHJpbmcsXG4vLyAgICAgfSlcbi8vICAgICByZXR1cm4gY3ZUb1ZhbHVlKHJlc3VsdClcbi8vIH1cblxuLy8gZXhwb3J0IGNvbnN0IHZlcmlmeVByb29mID0gYXN5bmMgKFxuLy8gICAgIHN0eEJsb2NrSGVpZ2h0OiBudW1iZXIsXG4vLyAgICAgYmxvY2tIZWFkZXI6IEJ1ZmZlcixcbi8vICAgICB0eDogQnVmZmVyLFxuLy8gICAgIHR4SW5kZXg6IG51bWJlcixcbi8vICAgICBwcm9vZjogQnVmZmVyW11cbi8vICk6IFByb21pc2U8Ym9vbGVhbj4gPT4ge1xuLy8gICAgIGNvbnNvbGUuYXNzZXJ0KGJsb2NrSGVhZGVyLmxlbmd0aCA9PT0gODAsIFwiaGVhZGVyIGxlbmd0aCBpbmNvcnJlY3RcIilcbi8vICAgICBjb25zb2xlLmFzc2VydCh0eC5sZW5ndGggPD0gMTAyNCwgXCJ0eCB0b28gbG9uZ1wiKVxuLy9cbi8vICAgICBjb25zdCByZXN1bHQgPSBhd2FpdCBjYWxsUmVhZE9ubHlGdW5jdGlvbih7XG4vLyAgICAgICAgIGNvbnRyYWN0TmFtZTogQ0xBUklUWV9CSVRDT0lOX0NPTlRSQUNUX05BTUUgYXMgc3RyaW5nLFxuLy8gICAgICAgICBjb250cmFjdEFkZHJlc3M6IENMQVJJVFlfQklUQ09JTl9DT05UUkFDVF9BRERSRVNTIGFzIHN0cmluZyxcbi8vICAgICAgICAgZnVuY3Rpb25OYW1lOiAnd2FzLXR4LW1pbmVkLWNvbXBhY3QnLFxuLy8gICAgICAgICBmdW5jdGlvbkFyZ3M6IFtcbi8vICAgICAgICAgICAgIHR1cGxlQ1Yoe1xuLy8gICAgICAgICAgICAgICAgIGhlYWRlcjogYnVmZmVyQ1YoYmxvY2tIZWFkZXIpLFxuLy8gICAgICAgICAgICAgICAgIGhlaWdodDogdWludENWKHN0eEJsb2NrSGVpZ2h0KSxcbi8vICAgICAgICAgICAgIH0pLFxuLy8gICAgICAgICAgICAgYnVmZmVyQ1YodHgpLFxuLy8gICAgICAgICAgICAgdHVwbGVDVih7XG4vLyAgICAgICAgICAgICAgICAgXCJ0eC1pbmRleFwiOiB1aW50Q1YodHhJbmRleCksXG4vLyAgICAgICAgICAgICAgICAgaGFzaGVzOiBsaXN0Q1Y8QnVmZmVyQ1Y+KHByb29mLm1hcChoYXNoID0+IGJ1ZmZlckNWKHJldmVyc2VCdWZmZXIoaGFzaCkpKSksXG4vLyAgICAgICAgICAgICAgICAgXCJ0cmVlLWRlcHRoXCI6IHVpbnRDVihwcm9vZi5sZW5ndGgpXG4vLyAgICAgICAgICAgICB9KVxuLy8gICAgICAgICBdLFxuLy8gICAgICAgICBuZXR3b3JrOiBORVRXT1JLIGFzIGFueSxcbi8vICAgICAgICAgc2VuZGVyQWRkcmVzczogU0VOREVSX0FERFJFU1MgYXMgc3RyaW5nLFxuLy8gICAgIH0pXG4vLyAgICAgcmV0dXJuIGN2VG9WYWx1ZShyZXN1bHQpLnZhbHVlXG4vLyB9XG4vL1xuLy8gZXhwb3J0IGNvbnN0IGdldEJsb2NrSGVhZGVySGFzaCA9IGFzeW5jIChzdHhCbG9ja0hlaWdodDogbnVtYmVyKTogUHJvbWlzZTxCdWZmZXI+ID0+IHtcbi8vICAgICAvLyAoZ2V0LWJjLWgtaGFzaCAoYmggdWludCkpXG4vLyAgICAgY29uc3QgcmVzdWx0ID0gYXdhaXQgY2FsbFJlYWRPbmx5RnVuY3Rpb24oe1xuLy8gICAgICAgICBjb250cmFjdE5hbWU6IENMQVJJVFlfQklUQ09JTl9DT05UUkFDVF9OQU1FIGFzIHN0cmluZyxcbi8vICAgICAgICAgY29udHJhY3RBZGRyZXNzOiBDTEFSSVRZX0JJVENPSU5fQ09OVFJBQ1RfQUREUkVTUyBhcyBzdHJpbmcsXG4vLyAgICAgICAgIGZ1bmN0aW9uTmFtZTogJ2dldC1iYy1oLWhhc2gnLFxuLy8gICAgICAgICBmdW5jdGlvbkFyZ3M6IFt1aW50Q1Yoc3R4QmxvY2tIZWlnaHQpXSxcbi8vICAgICAgICAgbmV0d29yazogTkVUV09SSyBhcyBhbnksXG4vLyAgICAgICAgIHNlbmRlckFkZHJlc3M6IFNFTkRFUl9BRERSRVNTIGFzIHN0cmluZyxcbi8vICAgICB9KSBhcyBTb21lQ1Y8QnVmZmVyQ1Y+XG4vLyAgICAgcmV0dXJuIGN2VG9CdWZmZXIocmVzdWx0LnZhbHVlKVxuLy8gfVxuLy9cbi8vIGNvbnN0IG51bWJlclRvQnVmZmVyQ1YgPSAodmFsdWU6IEJOIHwgbnVtYmVyIHwgc3RyaW5nLCBzaXplOiBudW1iZXIgPSA4KTogQnVmZmVyQ1YgPT4gYnVmZmVyQ1YocmV2ZXJzZUJ1ZmZlcihCdWZmZXIuZnJvbShcbi8vICAgICBuZXcgQk4odmFsdWUpLnRvU3RyaW5nKDE2LCBzaXplICogMiksXG4vLyAgICAgJ2hleCdcbi8vICkpKVxuLy9cbi8vIGludGVyZmFjZSBUeE91dHB1dCB7XG4vLyAgICAgdmFsdWU6IEJOLFxuLy8gICAgIHNjcmlwdFB1YktleTogQnVmZmVyXG4vLyB9XG4vL1xuLy8gY29uc3QgdHhPdXRwdXRUb1R1cGxlQ1YgPSAoe3ZhbHVlLCBzY3JpcHRQdWJLZXl9OiBUeE91dHB1dCk6IFR1cGxlQ1YgPT4gdHVwbGVDVih7XG4vLyAgICAgdmFsdWU6IG51bWJlclRvQnVmZmVyQ1YodmFsdWUpLFxuLy8gICAgIHNjcmlwdFB1YktleTogYnVmZmVyQ1Yoc2NyaXB0UHViS2V5KVxuLy8gfSlcbi8vXG4vLyBleHBvcnQgY29uc3QgY29uY2F0T3V0ID0gYXN5bmMgKHR4T3V0cHV0OiBUeE91dHB1dCk6IFByb21pc2U8QnVmZmVyPiA9PiB7XG4vLyAgICAgY29uc3QgcmVzdWx0ID0gYXdhaXQgY2FsbFJlYWRPbmx5RnVuY3Rpb24oe1xuLy8gICAgICAgICBjb250cmFjdE5hbWU6IENMQVJJVFlfQklUQ09JTl9DT05UUkFDVF9OQU1FIGFzIHN0cmluZyxcbi8vICAgICAgICAgY29udHJhY3RBZGRyZXNzOiBDTEFSSVRZX0JJVENPSU5fQ09OVFJBQ1RfQUREUkVTUyBhcyBzdHJpbmcsXG4vLyAgICAgICAgIGZ1bmN0aW9uTmFtZTogJ2NvbmNhdC1vdXQnLFxuLy8gICAgICAgICBmdW5jdGlvbkFyZ3M6IFtcbi8vICAgICAgICAgICAgIHR4T3V0cHV0VG9UdXBsZUNWKHR4T3V0cHV0KSxcbi8vICAgICAgICAgICAgIGJ1ZmZlckNWKEJ1ZmZlci5hbGxvYygwKSlcbi8vICAgICAgICAgXSxcbi8vICAgICAgICAgbmV0d29yazogTkVUV09SSyBhcyBhbnksXG4vLyAgICAgICAgIHNlbmRlckFkZHJlc3M6IFNFTkRFUl9BRERSRVNTIGFzIHN0cmluZyxcbi8vICAgICB9KVxuLy8gICAgIHJldHVybiBjdlRvQnVmZmVyKHJlc3VsdCBhcyBCdWZmZXJDVilcbi8vIH1cbi8vXG4vLyBleHBvcnQgY29uc3QgY29uY2F0T3V0cyA9IGFzeW5jIChvdXRwdXRzOiBUeE91dHB1dFtdKTogUHJvbWlzZTxCdWZmZXI+ID0+IHtcbi8vICAgICBjb25zdCByZXN1bHQgPSBhd2FpdCBjYWxsUmVhZE9ubHlGdW5jdGlvbih7XG4vLyAgICAgICAgIGNvbnRyYWN0TmFtZTogQ0xBUklUWV9CSVRDT0lOX0NPTlRSQUNUX05BTUUgYXMgc3RyaW5nLFxuLy8gICAgICAgICBjb250cmFjdEFkZHJlc3M6IENMQVJJVFlfQklUQ09JTl9DT05UUkFDVF9BRERSRVNTIGFzIHN0cmluZyxcbi8vICAgICAgICAgZnVuY3Rpb25OYW1lOiAnY29uY2F0LW91dHMnLFxuLy8gICAgICAgICBmdW5jdGlvbkFyZ3M6IFtcbi8vICAgICAgICAgICAgIGxpc3RDVjxUdXBsZUNWPihvdXRwdXRzLm1hcCh0eE91dHB1dFRvVHVwbGVDVikpLFxuLy8gICAgICAgICBdLFxuLy8gICAgICAgICBuZXR3b3JrOiBORVRXT1JLIGFzIGFueSxcbi8vICAgICAgICAgc2VuZGVyQWRkcmVzczogU0VOREVSX0FERFJFU1MgYXMgc3RyaW5nLFxuLy8gICAgIH0pXG4vLyAgICAgcmV0dXJuIGN2VG9CdWZmZXIocmVzdWx0IGFzIEJ1ZmZlckNWKVxuLy8gfVxuXG4vLyBpbnRlcmZhY2UgVHhJbnB1dCB7XG4vLyAgICAgdHhpZDogQnVmZmVyLFxuLy8gICAgIGluZGV4OiBudW1iZXIsXG4vLyAgICAgc2NyaXB0U2lnOiBCdWZmZXIsXG4vLyAgICAgc2VxdWVuY2U6IG51bWJlcixcbi8vIH1cblxuLy8gY29uc3QgdHhJbnB1dFRvVHVwbGVDViA9ICh7dHhpZCwgaW5kZXgsIHNjcmlwdFNpZywgc2VxdWVuY2V9OiBUeElucHV0KSA9PiB0dXBsZUNWKHtcbi8vICAgICBvdXRwb2ludDogdHVwbGVDVih7XG4vLyAgICAgICAgIGhhc2g6IGJ1ZmZlckNWKHJldmVyc2VCdWZmZXIodHhpZCkpLFxuLy8gICAgICAgICBpbmRleDogbnVtYmVyVG9CdWZmZXJDVihpbmRleCwgNClcbi8vICAgICB9KSxcbi8vICAgICBzY3JpcHRTaWc6IGJ1ZmZlckNWKHNjcmlwdFNpZyksXG4vLyAgICAgc2VxdWVuY2U6IG51bWJlclRvQnVmZmVyQ1Yoc2VxdWVuY2UsIDQpXG4vLyB9KVxuLy9cbi8vIGV4cG9ydCBjb25zdCBjb25jYXRJbnMgPSBhc3luYyAodHhJbnB1dHM6IFR4SW5wdXRbXSk6IFByb21pc2U8QnVmZmVyPiA9PiB7XG4vLyAgICAgY29uc3QgcmVzdWx0ID0gYXdhaXQgY2FsbFJlYWRPbmx5RnVuY3Rpb24oe1xuLy8gICAgICAgICBjb250cmFjdE5hbWU6IENMQVJJVFlfQklUQ09JTl9DT05UUkFDVF9OQU1FIGFzIHN0cmluZyxcbi8vICAgICAgICAgY29udHJhY3RBZGRyZXNzOiBDTEFSSVRZX0JJVENPSU5fQ09OVFJBQ1RfQUREUkVTUyBhcyBzdHJpbmcsXG4vLyAgICAgICAgIGZ1bmN0aW9uTmFtZTogJ2NvbmNhdC1pbicsXG4vLyAgICAgICAgIGZ1bmN0aW9uQXJnczogW1xuLy8gICAgICAgICAgICAgbGlzdENWPFR1cGxlQ1Y+KHR4SW5wdXRzLm1hcCh0eElucHV0VG9UdXBsZUNWKSlcbi8vICAgICAgICAgXSxcbi8vICAgICAgICAgbmV0d29yazogTkVUV09SSyBhcyBhbnksXG4vLyAgICAgICAgIHNlbmRlckFkZHJlc3M6IFNFTkRFUl9BRERSRVNTIGFzIHN0cmluZyxcbi8vICAgICB9KVxuLy8gICAgIHJldHVybiBjdlRvQnVmZmVyKHJlc3VsdCBhcyBCdWZmZXJDVilcbi8vIH1cbi8vXG5cbmV4cG9ydCB0eXBlIFR4T3V0cHV0Q1YgPSB7XG4gICAgdmFsdWU6IFVJbnRDVixcbiAgICBzY3JpcHRQdWJLZXk6IEJ1ZmZlckNWXG59XG5cbmV4cG9ydCB0eXBlIFR4SW5wdXRPdXRwb2ludCA9IHtcbiAgICBoYXNoOiBCdWZmZXJDVixcbiAgICBpbmRleDogVUludENWXG59XG5cbmV4cG9ydCB0eXBlIFR4SW5wdXRDViA9IHtcbiAgICBvdXRwb2ludDogVHVwbGVDVjxUeElucHV0T3V0cG9pbnQ+LFxuICAgIHNjcmlwdFNpZzogQnVmZmVyQ1YsXG4gICAgc2VxdWVuY2U6IFVJbnRDVlxufVxuXG5leHBvcnQgdHlwZSBUeERhdGFDViA9IHtcbiAgICB2ZXJzaW9uOiBCdWZmZXJDVixcbiAgICBpbnM6IExpc3RDVjxUdXBsZUNWPFR4SW5wdXRDVj4+LFxuICAgIG91dHM6IExpc3RDVjxUdXBsZUNWPFR4T3V0cHV0Q1Y+PlxuICAgIGxvY2t0aW1lOiBCdWZmZXJDVlxufVxuXG5leHBvcnQgdHlwZSBDb21wYWN0SGVhZGVyRGF0YUNWID0ge1xuICAgIGhlYWRlcjogQnVmZmVyQ1YsXG4gICAgaGVpZ2h0OiBVSW50Q1Zcbn1cblxuZXhwb3J0IHR5cGUgSGVhZGVyRGF0YUNWID0ge1xuICAgIHZlcnNpb246IEJ1ZmZlckNWLFxuICAgIHBhcmVudDogQnVmZmVyQ1YsXG4gICAgXCJtZXJrbGUtcm9vdFwiOiBCdWZmZXJDVixcbiAgICB0aW1lc3RhbXA6IEJ1ZmZlckNWLFxuICAgIG5iaXRzOiBCdWZmZXJDVixcbiAgICBub25jZTogQnVmZmVyQ1YsXG4gICAgaGVpZ2h0OiBVSW50Q1Zcbn1cblxuZXhwb3J0IGNvbnN0IGNvbmNhdFR4ID0gYXN5bmMgKHR4OiBUdXBsZUNWPFR4RGF0YUNWPik6IFByb21pc2U8QnVmZmVyPiA9PiB7XG4gICAgY29uc3QgcmVzdWx0ID0gYXdhaXQgY2FsbFJlYWRPbmx5RnVuY3Rpb24oe1xuICAgICAgICBjb250cmFjdE5hbWU6IENMQVJJVFlfQklUQ09JTl9DT05UUkFDVF9OQU1FIGFzIHN0cmluZyxcbiAgICAgICAgY29udHJhY3RBZGRyZXNzOiBDTEFSSVRZX0JJVENPSU5fQ09OVFJBQ1RfQUREUkVTUyBhcyBzdHJpbmcsXG4gICAgICAgIGZ1bmN0aW9uTmFtZTogJ2NvbmNhdC10eCcsXG4gICAgICAgIGZ1bmN0aW9uQXJnczogW3R4XSxcbiAgICAgICAgbmV0d29yazogTkVUV09SSyBhcyBhbnksXG4gICAgICAgIHNlbmRlckFkZHJlc3M6IFNFTkRFUl9BRERSRVNTIGFzIHN0cmluZyxcbiAgICB9KVxuICAgIHJldHVybiBjdlRvQnVmZmVyKHJlc3VsdCBhcyBCdWZmZXJDVilcbn1cblxuZXhwb3J0IGNvbnN0IHZlcmlmeUNvbXBhY3RUeCA9IChoZWFkZXI6IFR1cGxlQ1YsIHR4OiBCdWZmZXJDViwgcHJvb2Y6IFR1cGxlQ1YsKTogUHJvbWlzZTxDbGFyaXR5VmFsdWU+ID0+XG4gICAgY2FsbFJlYWRPbmx5RnVuY3Rpb24oe1xuICAgICAgICBjb250cmFjdE5hbWU6IENMQVJJVFlfQklUQ09JTl9DT05UUkFDVF9OQU1FIGFzIHN0cmluZyxcbiAgICAgICAgY29udHJhY3RBZGRyZXNzOiBDTEFSSVRZX0JJVENPSU5fQ09OVFJBQ1RfQUREUkVTUyBhcyBzdHJpbmcsXG4gICAgICAgIGZ1bmN0aW9uTmFtZTogJ3dhcy10eC1taW5lZC1jb21wYWN0JyxcbiAgICAgICAgZnVuY3Rpb25BcmdzOiBbaGVhZGVyLCB0eCwgcHJvb2ZdLFxuICAgICAgICBuZXR3b3JrOiBORVRXT1JLIGFzIGFueSxcbiAgICAgICAgc2VuZGVyQWRkcmVzczogU0VOREVSX0FERFJFU1MgYXMgc3RyaW5nLFxuICAgIH0pO1xuXG5leHBvcnQgY29uc3QgdmVyaWZ5VHggPSAoaGVhZGVyOiBUdXBsZUNWLCB0eDogQnVmZmVyQ1YsIHByb29mOiBUdXBsZUNWKTogUHJvbWlzZTxDbGFyaXR5VmFsdWU+ID0+XG4gICAgY2FsbFJlYWRPbmx5RnVuY3Rpb24oe1xuICAgICAgICBjb250cmFjdE5hbWU6IENMQVJJVFlfQklUQ09JTl9DT05UUkFDVF9OQU1FIGFzIHN0cmluZyxcbiAgICAgICAgY29udHJhY3RBZGRyZXNzOiBDTEFSSVRZX0JJVENPSU5fQ09OVFJBQ1RfQUREUkVTUyBhcyBzdHJpbmcsXG4gICAgICAgIGZ1bmN0aW9uTmFtZTogJ3dhcy10eC1taW5lZCcsXG4gICAgICAgIGZ1bmN0aW9uQXJnczogW2hlYWRlciwgdHgsIHByb29mXSxcbiAgICAgICAgbmV0d29yazogTkVUV09SSyBhcyBhbnksXG4gICAgICAgIHNlbmRlckFkZHJlc3M6IFNFTkRFUl9BRERSRVNTIGFzIHN0cmluZyxcbiAgICB9KVxuXG5leHBvcnQgY29uc3QgY29uY2F0SGVhZGVyID0gKGhlYWRlcjogVHVwbGVDViwpOiBQcm9taXNlPENsYXJpdHlWYWx1ZT4gPT5cbiAgICBjYWxsUmVhZE9ubHlGdW5jdGlvbih7XG4gICAgICAgIGNvbnRyYWN0TmFtZTogQ0xBUklUWV9CSVRDT0lOX0NPTlRSQUNUX05BTUUgYXMgc3RyaW5nLFxuICAgICAgICBjb250cmFjdEFkZHJlc3M6IENMQVJJVFlfQklUQ09JTl9DT05UUkFDVF9BRERSRVNTIGFzIHN0cmluZyxcbiAgICAgICAgZnVuY3Rpb25OYW1lOiAnY29uY2F0LWhlYWRlcicsXG4gICAgICAgIGZ1bmN0aW9uQXJnczogW2hlYWRlcl0sXG4gICAgICAgIG5ldHdvcms6IE5FVFdPUksgYXMgYW55LFxuICAgICAgICBzZW5kZXJBZGRyZXNzOiBTRU5ERVJfQUREUkVTUyBhcyBzdHJpbmcsXG4gICAgfSlcblxuZXhwb3J0IGNvbnN0IHBhcnNlVHggPSAodHg6IEJ1ZmZlckNWKTogUHJvbWlzZTxDbGFyaXR5VmFsdWU+ID0+XG4gICAgY2FsbFJlYWRPbmx5RnVuY3Rpb24oe1xuICAgICAgICBjb250cmFjdE5hbWU6IENMQVJJVFlfQklUQ09JTl9DT05UUkFDVF9OQU1FIGFzIHN0cmluZyxcbiAgICAgICAgY29udHJhY3RBZGRyZXNzOiBDTEFSSVRZX0JJVENPSU5fQ09OVFJBQ1RfQUREUkVTUyBhcyBzdHJpbmcsXG4gICAgICAgIGZ1bmN0aW9uTmFtZTogJ3BhcnNlLXR4JyxcbiAgICAgICAgZnVuY3Rpb25BcmdzOiBbdHhdLFxuICAgICAgICBuZXR3b3JrOiBORVRXT1JLIGFzIGFueSxcbiAgICAgICAgc2VuZGVyQWRkcmVzczogU0VOREVSX0FERFJFU1MgYXMgc3RyaW5nLFxuICAgIH0pXG5cbiJdfQ==