import { bufferCV, callReadOnlyFunction, cvToValue, uintCV } from "@stacks/transactions";
const { CLARITY_BITCOIN_CONTRACT_NAME, CLARITY_BITCOIN_CONTRACT_ADDRESS, NETWORK, SENDER_ADDRESS } = process.env;
export const verifyBlockHeader = async (blockHeader, stxBlockHeight) => {
    // (verify-block-header (headerbuff (buff 80)) (expected-block-height uint))
    const result = await callReadOnlyFunction({
        contractName: CLARITY_BITCOIN_CONTRACT_NAME,
        contractAddress: CLARITY_BITCOIN_CONTRACT_ADDRESS,
        functionName: 'verify-block-header',
        functionArgs: [
            bufferCV(blockHeader),
            uintCV(stxBlockHeight)
        ],
        network: NETWORK,
        senderAddress: SENDER_ADDRESS,
    });
    return cvToValue(result);
};
export const getReversedTxId = async (tx) => {
    // (define-read-only (get-reversed-txid (tx (buff 1024)))
    const functionName = 'get-reversed-txid';
    const functionArgs = [
        bufferCV(tx)
    ];
    const result = await callReadOnlyFunction({
        contractName: CLARITY_BITCOIN_CONTRACT_NAME,
        contractAddress: CLARITY_BITCOIN_CONTRACT_ADDRESS,
        functionName,
        functionArgs,
        network: NETWORK,
        senderAddress: SENDER_ADDRESS,
    });
    return cvToValue(result);
};
//# sourceMappingURL=data:application/json;base64,eyJ2ZXJzaW9uIjozLCJmaWxlIjoiQ2xhcml0eUJpdGNvaW5DbGllbnQuanMiLCJzb3VyY2VSb290IjoiIiwic291cmNlcyI6WyJDbGFyaXR5Qml0Y29pbkNsaWVudC50cyJdLCJuYW1lcyI6W10sIm1hcHBpbmdzIjoiQUFBQSxPQUFPLEVBQUMsUUFBUSxFQUFFLG9CQUFvQixFQUFnQixTQUFTLEVBQUUsTUFBTSxFQUFDLE1BQU0sc0JBQXNCLENBQUM7QUFFckcsTUFBTSxFQUNGLDZCQUE2QixFQUM3QixnQ0FBZ0MsRUFDaEMsT0FBTyxFQUNQLGNBQWMsRUFDakIsR0FBRyxPQUFPLENBQUMsR0FBRyxDQUFBO0FBRWYsTUFBTSxDQUFDLE1BQU0saUJBQWlCLEdBQUcsS0FBSyxFQUFFLFdBQW1CLEVBQUUsY0FBc0IsRUFBb0IsRUFBRTtJQUNyRyw0RUFBNEU7SUFDNUUsTUFBTSxNQUFNLEdBQUcsTUFBTSxvQkFBb0IsQ0FBQztRQUN0QyxZQUFZLEVBQUUsNkJBQXVDO1FBQ3JELGVBQWUsRUFBRSxnQ0FBMEM7UUFDM0QsWUFBWSxFQUFFLHFCQUFxQjtRQUNuQyxZQUFZLEVBQUU7WUFDVixRQUFRLENBQUMsV0FBVyxDQUFDO1lBQ3JCLE1BQU0sQ0FBQyxjQUFjLENBQUM7U0FDekI7UUFDRCxPQUFPLEVBQUUsT0FBYztRQUN2QixhQUFhLEVBQUUsY0FBd0I7S0FDMUMsQ0FBQyxDQUFBO0lBQ0YsT0FBTyxTQUFTLENBQUMsTUFBTSxDQUFDLENBQUE7QUFDNUIsQ0FBQyxDQUFBO0FBRUQsTUFBTSxDQUFDLE1BQU0sZUFBZSxHQUFHLEtBQUssRUFBRSxFQUFVLEVBQWdCLEVBQUU7SUFDOUQseURBQXlEO0lBQ3pELE1BQU0sWUFBWSxHQUFHLG1CQUFtQixDQUFBO0lBQ3hDLE1BQU0sWUFBWSxHQUFtQjtRQUNqQyxRQUFRLENBQUMsRUFBRSxDQUFDO0tBQ2YsQ0FBQTtJQUVELE1BQU0sTUFBTSxHQUFHLE1BQU0sb0JBQW9CLENBQUM7UUFDdEMsWUFBWSxFQUFFLDZCQUF1QztRQUNyRCxlQUFlLEVBQUUsZ0NBQTBDO1FBQzNELFlBQVk7UUFDWixZQUFZO1FBQ1osT0FBTyxFQUFFLE9BQWM7UUFDdkIsYUFBYSxFQUFFLGNBQXdCO0tBQzFDLENBQUMsQ0FBQTtJQUNGLE9BQU8sU0FBUyxDQUFDLE1BQU0sQ0FBQyxDQUFBO0FBQzVCLENBQUMsQ0FBQSIsInNvdXJjZXNDb250ZW50IjpbImltcG9ydCB7YnVmZmVyQ1YsIGNhbGxSZWFkT25seUZ1bmN0aW9uLCBDbGFyaXR5VmFsdWUsIGN2VG9WYWx1ZSwgdWludENWfSBmcm9tIFwiQHN0YWNrcy90cmFuc2FjdGlvbnNcIjtcblxuY29uc3Qge1xuICAgIENMQVJJVFlfQklUQ09JTl9DT05UUkFDVF9OQU1FLFxuICAgIENMQVJJVFlfQklUQ09JTl9DT05UUkFDVF9BRERSRVNTLFxuICAgIE5FVFdPUkssXG4gICAgU0VOREVSX0FERFJFU1Ncbn0gPSBwcm9jZXNzLmVudlxuXG5leHBvcnQgY29uc3QgdmVyaWZ5QmxvY2tIZWFkZXIgPSBhc3luYyAoYmxvY2tIZWFkZXI6IEJ1ZmZlciwgc3R4QmxvY2tIZWlnaHQ6IG51bWJlcik6IFByb21pc2U8Ym9vbGVhbj4gPT4ge1xuICAgIC8vICh2ZXJpZnktYmxvY2staGVhZGVyIChoZWFkZXJidWZmIChidWZmIDgwKSkgKGV4cGVjdGVkLWJsb2NrLWhlaWdodCB1aW50KSlcbiAgICBjb25zdCByZXN1bHQgPSBhd2FpdCBjYWxsUmVhZE9ubHlGdW5jdGlvbih7XG4gICAgICAgIGNvbnRyYWN0TmFtZTogQ0xBUklUWV9CSVRDT0lOX0NPTlRSQUNUX05BTUUgYXMgc3RyaW5nLFxuICAgICAgICBjb250cmFjdEFkZHJlc3M6IENMQVJJVFlfQklUQ09JTl9DT05UUkFDVF9BRERSRVNTIGFzIHN0cmluZyxcbiAgICAgICAgZnVuY3Rpb25OYW1lOiAndmVyaWZ5LWJsb2NrLWhlYWRlcicsXG4gICAgICAgIGZ1bmN0aW9uQXJnczogW1xuICAgICAgICAgICAgYnVmZmVyQ1YoYmxvY2tIZWFkZXIpLFxuICAgICAgICAgICAgdWludENWKHN0eEJsb2NrSGVpZ2h0KVxuICAgICAgICBdLFxuICAgICAgICBuZXR3b3JrOiBORVRXT1JLIGFzIGFueSxcbiAgICAgICAgc2VuZGVyQWRkcmVzczogU0VOREVSX0FERFJFU1MgYXMgc3RyaW5nLFxuICAgIH0pXG4gICAgcmV0dXJuIGN2VG9WYWx1ZShyZXN1bHQpXG59XG5cbmV4cG9ydCBjb25zdCBnZXRSZXZlcnNlZFR4SWQgPSBhc3luYyAodHg6IEJ1ZmZlcik6IFByb21pc2U8YW55PiA9PiB7XG4gICAgLy8gKGRlZmluZS1yZWFkLW9ubHkgKGdldC1yZXZlcnNlZC10eGlkICh0eCAoYnVmZiAxMDI0KSkpXG4gICAgY29uc3QgZnVuY3Rpb25OYW1lID0gJ2dldC1yZXZlcnNlZC10eGlkJ1xuICAgIGNvbnN0IGZ1bmN0aW9uQXJnczogQ2xhcml0eVZhbHVlW10gPSBbXG4gICAgICAgIGJ1ZmZlckNWKHR4KVxuICAgIF1cblxuICAgIGNvbnN0IHJlc3VsdCA9IGF3YWl0IGNhbGxSZWFkT25seUZ1bmN0aW9uKHtcbiAgICAgICAgY29udHJhY3ROYW1lOiBDTEFSSVRZX0JJVENPSU5fQ09OVFJBQ1RfTkFNRSBhcyBzdHJpbmcsXG4gICAgICAgIGNvbnRyYWN0QWRkcmVzczogQ0xBUklUWV9CSVRDT0lOX0NPTlRSQUNUX0FERFJFU1MgYXMgc3RyaW5nLFxuICAgICAgICBmdW5jdGlvbk5hbWUsXG4gICAgICAgIGZ1bmN0aW9uQXJncyxcbiAgICAgICAgbmV0d29yazogTkVUV09SSyBhcyBhbnksXG4gICAgICAgIHNlbmRlckFkZHJlc3M6IFNFTkRFUl9BRERSRVNTIGFzIHN0cmluZyxcbiAgICB9KVxuICAgIHJldHVybiBjdlRvVmFsdWUocmVzdWx0KVxufVxuXG4iXX0=